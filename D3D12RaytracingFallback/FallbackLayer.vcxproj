<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Profile|x64">
      <Configuration>Profile</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <ProjectGuid>{4BE280A6-1066-41CA-ACDD-6BB7E532508B}</ProjectGuid>
    <Keyword>Win32Proj</Keyword>
    <ProjectName>FallbackLayer</ProjectName>
    <RootNamespace>FallbackLayer</RootNamespace>
    <DefaultLanguage>en-US</DefaultLanguage>
    <MinimumVisualStudioVersion>15.0</MinimumVisualStudioVersion>
    <ApplicationEnvironment>title</ApplicationEnvironment>
    <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <CharacterSet>Unicode</CharacterSet>
    <PlatformToolset>v143</PlatformToolset>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
    <Import Project="$(SolutionDir)Packages\WinPixEventRuntime.1.0.180612001\build\WinPixEventRuntime.targets" Condition="Exists('$(SolutionDir)Packages\WinPixEventRuntime.1.0.180612001\build\WinPixEventRuntime.targets')" />
  </ImportGroup>
  <ImportGroup Condition="'$(Configuration)|$(Platform)'=='Profile|x64'" Label="PropertySheets">
    <Import Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" />
    <Import Project="PropertySheets\Profile.props" />
    <Import Project="PropertySheets\Win32.props" />
    <Import Project="PropertySheets\VS15.props" />
  </ImportGroup>
  <ImportGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="PropertySheets">
    <Import Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" />
    <Import Project="PropertySheets\Release.props" />
    <Import Project="PropertySheets\Win32.props" />
    <Import Project="PropertySheets\VS15.props" />
  </ImportGroup>
  <ImportGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="PropertySheets">
    <Import Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" />
    <Import Project="PropertySheets\Debug.props" />
    <Import Project="PropertySheets\Win32.props" />
    <Import Project="PropertySheets\VS15.props" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <IncludePath>$(SolutionDir)Include;$(SolutionDir)packages\WinPixEventRuntime.1.0.180612001\Include;$(IncludePath)</IncludePath>
    <OutDir>$(SolutionDir)Build\$(Platform)\$(Configuration)\Output\</OutDir>
    <IntDir>$(SolutionDir)Build\$(Platform)\$(Configuration)\Intermediate\$(ProjectName)\</IntDir>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Profile|x64'">
    <IncludePath>$(SolutionDir)Include;$(SolutionDir)packages\WinPixEventRuntime.1.0.180612001\Include;$(IncludePath)</IncludePath>
    <OutDir>$(SolutionDir)Build\$(Platform)\$(Configuration)\Output\</OutDir>
    <IntDir>$(SolutionDir)Build\$(Platform)\$(Configuration)\Intermediate\</IntDir>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <IncludePath>$(SolutionDir)Include;$(SolutionDir)packages\WinPixEventRuntime.1.0.180612001\Include;$(IncludePath)</IncludePath>
    <OutDir>$(SolutionDir)Build\$(Platform)\$(Configuration)\Output\</OutDir>
    <IntDir>$(SolutionDir)Build\$(Platform)\$(Configuration)\Intermediate\$(ProjectName)\</IntDir>
  </PropertyGroup>
  <ItemDefinitionGroup>
    <ClCompile>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <PrecompiledHeaderFile />
      <RuntimeTypeInfo>true</RuntimeTypeInfo>
    </ClCompile>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Platform)'=='X64'">
    <Link>
      <AdditionalDependencies>d3d11.lib;dxguid.lib;winmm.lib;comctl32.lib;%(AdditionalDependencies)</AdditionalDependencies>
      <SubSystem>Windows</SubSystem>
      <DataExecutionPrevention>true</DataExecutionPrevention>
      <TargetMachine>MachineX64</TargetMachine>
    </Link>
    <Manifest>
      <EnableDPIAwareness>true</EnableDPIAwareness>
    </Manifest>
    <FxCompile>
      <AdditionalOptions Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">-Zpr %(AdditionalOptions)</AdditionalOptions>
      <ShaderModel Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">6.3</ShaderModel>
    </FxCompile>
    <FxCompile>
      <AdditionalOptions Condition="'$(Configuration)|$(Platform)'=='Profile|x64'">-Zpr %(AdditionalOptions)</AdditionalOptions>
      <ShaderModel Condition="'$(Configuration)|$(Platform)'=='Profile|x64'">6.3</ShaderModel>
    </FxCompile>
    <FxCompile>
      <AdditionalOptions Condition="'$(Configuration)|$(Platform)'=='Release|x64'">-Zpr %(AdditionalOptions)</AdditionalOptions>
      <ShaderModel Condition="'$(Configuration)|$(Platform)'=='Release|x64'">6.3</ShaderModel>
    </FxCompile>
    <ClCompile>
      <MultiProcessorCompilation Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">true</MultiProcessorCompilation>
      <AdditionalIncludeDirectories Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">$(IntDir);%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
    </ClCompile>
    <ClCompile>
      <MultiProcessorCompilation Condition="'$(Configuration)|$(Platform)'=='Profile|x64'">true</MultiProcessorCompilation>
    </ClCompile>
    <ClCompile>
      <MultiProcessorCompilation Condition="'$(Configuration)|$(Platform)'=='Release|x64'">true</MultiProcessorCompilation>
      <AdditionalIncludeDirectories Condition="'$(Configuration)|$(Platform)'=='Release|x64'">$(IntDir);%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
    </ClCompile>
    <PostBuildEvent>
      <Command Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">xcopy $(SolutionDir)DXC\*.dll $(OutDir) /s /d</Command>
    </PostBuildEvent>
    <PostBuildEvent>
      <Command Condition="'$(Configuration)|$(Platform)'=='Profile|x64'">xcopy $(SolutionDir)DXC\*.dll $(OutDir) /s /d</Command>
    </PostBuildEvent>
    <PostBuildEvent>
      <Command Condition="'$(Configuration)|$(Platform)'=='Release|x64'">xcopy $(SolutionDir)DXC\*.dll $(OutDir) /s /d</Command>
    </PostBuildEvent>
  </ItemDefinitionGroup>
  <ItemGroup>
    <ClInclude Include="AccelerationStructureBuilder.h" />
    <ClInclude Include="AccelerationStructureBuilderFactory.h" />
    <ClInclude Include="AccelerationStructureValidator.h" />
    <ClInclude Include="BitonicSort.h" />
    <ClInclude Include="BVHTraversalShaderBuilder.h" />
    <ClInclude Include="BVHValidator.h" />
    <ClInclude Include="CalculateMortonCodesBindings.h" />
    <ClInclude Include="ComObject.h" />
    <ClInclude Include="ConstructAABBBindings.h" />
    <ClInclude Include="ConstructAABBPass.h" />
    <ClInclude Include="ConstructHierarchyPass.h" />
    <ClInclude Include="DebugLog.h" />
    <ClInclude Include="DxbcParser.h" />
    <ClInclude Include="ExperimentalRaytracing.h" />
    <ClInclude Include="FallbackDebug.h" />
    <ClInclude Include="GetBVHCompactedSizeBindings.h" />
    <ClInclude Include="GpuBvh2Copy.h" />
    <ClInclude Include="GpuBvh2CopyBindings.h" />
    <ClInclude Include="HLSLRayTracingInternalPrototypes.h" />
    <ClInclude Include="LoadInstancesBindings.h" />
    <ClInclude Include="LoadInstancesPass.h" />
    <ClInclude Include="LoadPrimitivesBindings.h" />
    <ClInclude Include="LoadPrimitivesPass.h" />
    <ClInclude Include="PostBuildInfoQuery.h" />
    <ClInclude Include="RaytracingCompatibilityDebug.h" />
    <ClInclude Include="StateObjectProcessing.hpp" />
    <ClInclude Include="TreeletReorder.h" />
    <ClInclude Include="TreeletReorderBindings.h" />
    <ClInclude Include="UberShaderBindings.h" />
    <ClInclude Include="UberShaderRayTracingProgram.h" />
    <ClInclude Include="DxilShaderPatcher.h" />
    <ClInclude Include="FallbackLayer.h" />
    <ClInclude Include="FallbackDxil.h" />
    <ClInclude Include="GpuBvh2Builder.h" />
    <ClInclude Include="HlslCompat.h" />
    <ClInclude Include="HLSLRayTracingPrototypes.h">
      <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">true</ExcludedFromBuild>
      <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Release|x64'">true</ExcludedFromBuild>
      <ExcludedFromBuild Condition="'$(Configuration)|$(Platform)'=='Profile|x64'">true</ExcludedFromBuild>
    </ClInclude>
    <ClInclude Include="MortonCodesCalculator.h" />
    <ClInclude Include="NativeRayTracing.h" />
    <ClInclude Include="pch.h" />
    <ClInclude Include="D3D12RaytracingFallback.h" />
    <ClInclude Include="RayTracingHlslCompat.h" />
    <ClInclude Include="RayTracingProgram.h" />
    <ClInclude Include="RayTracingProgramFactory.h" />
    <ClInclude Include="CalculateSceneAABBBindings.h" />
    <ClInclude Include="RearrangeTrianglesBindings.h" />
    <ClInclude Include="SceneAABBCalculator.h" />
    <ClInclude Include="ShaderPass.h" />
    <ClInclude Include="RearrangeElementsPass.h" />
    <ClInclude Include="ConstructHierarchyBindings.h" />
    <ClInclude Include="TraversalShaderBuilder.h" />
    <ClInclude Include="Util.h" />
    <ClInclude Include="WaveDimensions.h" />
  </ItemGroup>
  <ItemGroup>
    <FxCompile Include="RearrangeTriangles.hlsl" />
    <FxCompile Include="StateMachineLib.hlsl">
      <ShaderType Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">Library</ShaderType>
      <ShaderType Condition="'$(Configuration)|$(Platform)'=='Release|x64'">Library</ShaderType>
      <ShaderType Condition="'$(Configuration)|$(Platform)'=='Profile|x64'">Library</ShaderType>
    </FxCompile>
    <FxCompile Include="TraverseShaderLib.hlsl">
      <ShaderType Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">Library</ShaderType>
      <ShaderType Condition="'$(Configuration)|$(Platform)'=='Release|x64'">Library</ShaderType>
      <ShaderType Condition="'$(Configuration)|$(Platform)'=='Profile|x64'">Library</ShaderType>
    </FxCompile>
    <FxCompile Include="TreeletReorder.hlsl" />
    <None Include="..\contributing.md" />
    <None Include="..\developerguide.md" />
    <None Include="..\readme.md" />
    <None Include="BitonicSortCommon.hlsli" />
    <None Include="BottomLevelLoadTriangles.hlsli" />
    <None Include="BuildBVHSplits.hlsli" />
    <None Include="CalculateMortonCodes.hlsli" />
    <None Include="ComputeAABBs.hlsli" />
    <None Include="DebugLog.hlsli" />
    <None Include="EmulatedPointer.hlsli" />
    <None Include="EmulatedPointerIntrinsics.hlsli" />
    <FxCompile Include="BitonicIndirectArgsCS.hlsl" />
    <FxCompile Include="BitonicInnerSortCS.hlsl" />
    <FxCompile Include="BitonicOuterSortCS.hlsl" />
    <FxCompile Include="BitonicPreSortCS.hlsl" />
    <FxCompile Include="BottomLevelBuildBVHSplits.hlsl" />
    <FxCompile Include="BottomLevelComputeAABBs.hlsl" />
    <FxCompile Include="BottomLevelPrepareForComputeAABBs.hlsl" />
    <FxCompile Include="CalculateMortonCodesForAABBs.hlsl" />
    <FxCompile Include="CalculateMortonCodesForPrimitives.hlsl" />
    <FxCompile Include="CalculateSceneAABBFromAABBs.hlsl" />
    <FxCompile Include="CalculateSceneAABBFromBVHs.hlsl" />
    <FxCompile Include="CalculateSceneAABBFromPrimitives.hlsl" />
    <FxCompile Include="ClearBuffers.hlsl" />
    <FxCompile Include="FindTreelets.hlsl" />
    <FxCompile Include="GetBVHCompactedSize.hlsl" />
    <FxCompile Include="GpuBvh2Copy.hlsl" />
    <FxCompile Include="LoadProceduralGeometry.hlsl" />
    <FxCompile Include="LoadTrianglesFromR16IndexBuffer.hlsl" />
    <FxCompile Include="LoadTrianglesFromR32IndexBuffer.hlsl" />
    <FxCompile Include="LoadTrianglesNoIndexBuffer.hlsl" />
    <FxCompile Include="MinimalTraverseShaderLib.hlsl">
      <ShaderType Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">Library</ShaderType>
      <ShaderType Condition="'$(Configuration)|$(Platform)'=='Release|x64'">Library</ShaderType>
      <ShaderType Condition="'$(Configuration)|$(Platform)'=='Profile|x64'">Library</ShaderType>
    </FxCompile>
    <FxCompile Include="RearrangeBVHs.hlsl" />
    <FxCompile Include="TopLevelBuildBVHSplits.hlsl" />
    <FxCompile Include="TopLevelComputeAABBs.hlsl" />
    <FxCompile Include="TopLevelLoadAABBsFromArrayOfInstances.hlsl" />
    <FxCompile Include="TopLevelLoadAABBsFromArrayOfPointers.hlsl" />
    <FxCompile Include="TopLevelPrepareForComputeAABBs.hlsl" />
    <None Include="packages.config" />
    <None Include="RayTracingHelper.hlsli" />
    <None Include="ShaderUtil.hlsli" />
    <None Include="TopLevelLoadAABBs.hlsli" />
    <None Include="TraverseFunction.hlsli" />
    <None Include="TraverseShader.hlsli" />
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="AccelerationStructureBuilderFactory.cpp" />
    <ClCompile Include="AccelerationStructureValidator.cpp" />
    <ClCompile Include="BitonicSort.cpp" />
    <ClCompile Include="BVHTraversalShaderBuilder.cpp" />
    <ClCompile Include="BVHValidator.cpp" />
    <ClCompile Include="ConstructAABBPass.cpp" />
    <ClCompile Include="ConstructHierarchyPass.cpp" />
    <ClCompile Include="CpuBVH2Builder.cpp" />
    <ClCompile Include="DxbcParser.cpp" />
    <ClCompile Include="FallbackDebug.cpp" />
    <ClCompile Include="GpuBVH2Copy.cpp" />
    <ClCompile Include="LoadInstancesPass.cpp" />
    <ClCompile Include="LoadPrimitivesPass.cpp" />
    <ClCompile Include="PostBuildInfoQuery.cpp" />
    <ClCompile Include="StateObjectProcessing.cpp" />
    <ClCompile Include="TreeletReorder.cpp" />
    <ClCompile Include="UberShaderRayTracingProgram.cpp" />
    <ClCompile Include="DxilShaderPatcher.cpp" />
    <ClCompile Include="FallbackLayer.cpp" />
    <ClCompile Include="GpuBVH2Builder.cpp" />
    <ClCompile Include="MortonCodesCalculator.cpp" />
    <ClCompile Include="pch.cpp" />
    <ClCompile Include="D3D12RaytracingFallback.cpp" />
    <ClCompile Include="RayTracingProgramFactory.cpp" />
    <ClCompile Include="RearrangeElementsPass.cpp" />
    <ClCompile Include="SceneAABBCalculator.cpp" />
  </ItemGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
    <Import Project="$(SolutionDir)Packages\WinPixEventRuntime.1.0.180612001\build\WinPixEventRuntime.targets" Condition="Exists('$(SolutionDir)Packages\WinPixEventRuntime.1.0.180612001\build\WinPixEventRuntime.targets')" />
  </ImportGroup>
  <Target Name="EnsureNuGetPackageBuildImports" BeforeTargets="PrepareForBuild">
    <PropertyGroup>
      <ErrorText>This project references NuGet package(s) that are missing on this computer. Use NuGet Package Restore to download them.  For more information, see http://go.microsoft.com/fwlink/?LinkID=322105. The missing file is {0}.</ErrorText>
    </PropertyGroup>
    <Error Condition="!Exists('$(SolutionDir)Packages\WinPixEventRuntime.1.0.180612001\build\WinPixEventRuntime.targets')" Text="$([System.String]::Format('$(ErrorText)', '$(SolutionDir)Packages\WinPixEventRuntime.1.0.180612001\build\WinPixEventRuntime.targets'))" />
  </Target>
</Project>